package com.stated.royally.controller;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.stated.royally.model.Clan;
import lombok.extern.slf4j.Slf4j;
import org.junit.Test;

import java.io.IOException;

import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.Matchers.is;

/**
 * TODO - Add Class Definition
 *
 * @author Nate Vardell
 * @since 7/1/2019
 */
@Slf4j
public class ClanControllerTest {

    String clan = "{\"tag\":\"#PPLYL09L\",\"name\":\"Departed\",\"type\":\"open\",\"description\":\"Welcome! Rules are simple. Donate & participate in war. Have fun! \uD83D\uDE0E\",\"badgeId\":16000170,\"clanScore\":44276,\"clanWarTrophies\":1071,\"location\":{\"id\":57000001,\"name\":\"North America\",\"isCountry\":false},\"requiredTrophies\":3000,\"donationsPerWeek\":1920,\"clanChestStatus\":\"inactive\",\"clanChestLevel\":1,\"clanChestMaxLevel\":0,\"members\":47,\"memberList\":[{\"tag\":\"#9YRGYC9VR\",\"name\":\"Hulkinson\",\"role\":\"coLeader\",\"lastSeen\":\"20190701T212137.000Z\",\"expLevel\":12,\"trophies\":4818,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":1,\"previousClanRank\":5,\"donations\":90,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#8J9VU2C\",\"name\":\"TheBoy\",\"role\":\"member\",\"lastSeen\":\"20190701T221440.000Z\",\"expLevel\":12,\"trophies\":4799,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":2,\"previousClanRank\":6,\"donations\":8,\"donationsReceived\":120,\"clanChestPoints\":0},{\"tag\":\"#8UQYVRQ2\",\"name\":\"Utah 12\",\"role\":\"elder\",\"lastSeen\":\"20190701T212441.000Z\",\"expLevel\":13,\"trophies\":4797,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":3,\"previousClanRank\":1,\"donations\":140,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#PCRV2R2Y\",\"name\":\"Anthonator\",\"role\":\"member\",\"lastSeen\":\"20190701T173820.000Z\",\"expLevel\":12,\"trophies\":4773,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":4,\"previousClanRank\":4,\"donations\":72,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#CPVJPY\",\"name\":\"noah minassian\",\"role\":\"coLeader\",\"lastSeen\":\"20190701T214947.000Z\",\"expLevel\":12,\"trophies\":4772,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":5,\"previousClanRank\":3,\"donations\":44,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#8JJRGC0Q\",\"name\":\"Whi73Ra6617\",\"role\":\"leader\",\"lastSeen\":\"20190701T203258.000Z\",\"expLevel\":13,\"trophies\":4764,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":6,\"previousClanRank\":2,\"donations\":46,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#80VRUC2P\",\"name\":\"speedy cheetah\",\"role\":\"coLeader\",\"lastSeen\":\"20190701T222709.000Z\",\"expLevel\":12,\"trophies\":4753,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":7,\"previousClanRank\":8,\"donations\":92,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#8RCL8RGU\",\"name\":\"justin\",\"role\":\"member\",\"lastSeen\":\"20190701T181559.000Z\",\"expLevel\":12,\"trophies\":4639,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":8,\"previousClanRank\":7,\"donations\":56,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#2L8R2UJYJ\",\"name\":\"VwoLFw\",\"role\":\"coLeader\",\"lastSeen\":\"20190701T194445.000Z\",\"expLevel\":12,\"trophies\":4601,\"arena\":{\"id\":54000014,\"name\":\"Challenger III\"},\"clanRank\":9,\"previousClanRank\":11,\"donations\":48,\"donationsReceived\":112,\"clanChestPoints\":0},{\"tag\":\"#YGVY2CVG\",\"name\":\"sebastianrod890\",\"role\":\"coLeader\",\"lastSeen\":\"20190701T220824.000Z\",\"expLevel\":12,\"trophies\":4594,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":10,\"previousClanRank\":9,\"donations\":18,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#C9PCGR20\",\"name\":\"jondjam\",\"role\":\"member\",\"lastSeen\":\"20190701T110017.000Z\",\"expLevel\":12,\"trophies\":4573,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":11,\"previousClanRank\":10,\"donations\":0,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#899GJJR9R\",\"name\":\"Zoey\",\"role\":\"member\",\"lastSeen\":\"20190701T182853.000Z\",\"expLevel\":11,\"trophies\":4554,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":12,\"previousClanRank\":12,\"donations\":36,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#20VQ2JRJU\",\"name\":\"animal\",\"role\":\"coLeader\",\"lastSeen\":\"20190701T183234.000Z\",\"expLevel\":12,\"trophies\":4521,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":13,\"previousClanRank\":14,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#202GQ8UY\",\"name\":\"TheDragon'sEgg\",\"role\":\"elder\",\"lastSeen\":\"20190701T183736.000Z\",\"expLevel\":12,\"trophies\":4518,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":14,\"previousClanRank\":13,\"donations\":10,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#89P2PQPLL\",\"name\":\"dev\",\"role\":\"member\",\"lastSeen\":\"20190701T220853.000Z\",\"expLevel\":10,\"trophies\":4487,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":15,\"previousClanRank\":15,\"donations\":10,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#29099UCUR\",\"name\":\"Quentin\",\"role\":\"member\",\"lastSeen\":\"20190701T215415.000Z\",\"expLevel\":10,\"trophies\":4473,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":16,\"previousClanRank\":17,\"donations\":92,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#2LVPRGYPY\",\"name\":\"gaynavin\",\"role\":\"member\",\"lastSeen\":\"20190701T220714.000Z\",\"expLevel\":10,\"trophies\":4398,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":17,\"previousClanRank\":18,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#8PRJP28JC\",\"name\":\"igayretli\",\"role\":\"member\",\"lastSeen\":\"20190701T220606.000Z\",\"expLevel\":10,\"trophies\":4390,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":18,\"previousClanRank\":20,\"donations\":0,\"donationsReceived\":8,\"clanChestPoints\":0},{\"tag\":\"#VUPJQYU8\",\"name\":\"Flippie123c\",\"role\":\"member\",\"lastSeen\":\"20190701T185047.000Z\",\"expLevel\":10,\"trophies\":4366,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":19,\"previousClanRank\":19,\"donations\":82,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#J8ULPLYC\",\"name\":\"thijs0107\",\"role\":\"member\",\"lastSeen\":\"20190701T205334.000Z\",\"expLevel\":11,\"trophies\":4309,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":20,\"previousClanRank\":25,\"donations\":46,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#8RCUGUP8G\",\"name\":\"MrThy05\",\"role\":\"member\",\"lastSeen\":\"20190701T145613.000Z\",\"expLevel\":10,\"trophies\":4302,\"arena\":{\"id\":54000013,\"name\":\"Challenger II\"},\"clanRank\":21,\"previousClanRank\":21,\"donations\":92,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#PRURUYQP\",\"name\":\"heino_boy\",\"role\":\"member\",\"lastSeen\":\"20190701T194209.000Z\",\"expLevel\":10,\"trophies\":4294,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":22,\"previousClanRank\":22,\"donations\":56,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#80LVU0GYG\",\"name\":\"arbor\",\"role\":\"member\",\"lastSeen\":\"20190701T200603.000Z\",\"expLevel\":9,\"trophies\":4240,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":23,\"previousClanRank\":27,\"donations\":128,\"donationsReceived\":120,\"clanChestPoints\":0},{\"tag\":\"#PLR8G00J9\",\"name\":\"cannedcoochie\",\"role\":\"elder\",\"lastSeen\":\"20190701T200048.000Z\",\"expLevel\":9,\"trophies\":4235,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":24,\"previousClanRank\":23,\"donations\":8,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#9GPJGPCG\",\"name\":\"Despondent\",\"role\":\"coLeader\",\"lastSeen\":\"20190701T123338.000Z\",\"expLevel\":10,\"trophies\":4233,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":25,\"previousClanRank\":24,\"donations\":0,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#UVGVR802\",\"name\":\"you loser!\",\"role\":\"coLeader\",\"lastSeen\":\"20190625T060320.000Z\",\"expLevel\":11,\"trophies\":4058,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":26,\"previousClanRank\":16,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#2P8P0CLRC\",\"name\":\"Colby\",\"role\":\"member\",\"lastSeen\":\"20190628T150419.000Z\",\"expLevel\":11,\"trophies\":4019,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":27,\"previousClanRank\":26,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#LJL999UU\",\"name\":\"Flame\",\"role\":\"member\",\"lastSeen\":\"20190701T203435.000Z\",\"expLevel\":11,\"trophies\":4010,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":28,\"previousClanRank\":29,\"donations\":26,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#8LQYUQ8V\",\"name\":\"You\",\"role\":\"elder\",\"lastSeen\":\"20190701T190352.000Z\",\"expLevel\":13,\"trophies\":4006,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":29,\"previousClanRank\":30,\"donations\":70,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#Q0QJULJ2\",\"name\":\"Green Valley\",\"role\":\"elder\",\"lastSeen\":\"20190701T185401.000Z\",\"expLevel\":12,\"trophies\":4003,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":30,\"previousClanRank\":31,\"donations\":16,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#YUGQVJ89\",\"name\":\"Killer58hi\",\"role\":\"member\",\"lastSeen\":\"20190624T024550.000Z\",\"expLevel\":12,\"trophies\":4002,\"arena\":{\"id\":54000012,\"name\":\"Legendary Arena\"},\"clanRank\":31,\"previousClanRank\":28,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#2VV9LLV0J\",\"name\":\"inchka_aper\",\"role\":\"member\",\"lastSeen\":\"20190701T201333.000Z\",\"expLevel\":9,\"trophies\":3976,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":32,\"previousClanRank\":33,\"donations\":62,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#PG29VJ8UG\",\"name\":\"koojana 2\",\"role\":\"member\",\"lastSeen\":\"20190701T212954.000Z\",\"expLevel\":9,\"trophies\":3970,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":33,\"previousClanRank\":32,\"donations\":72,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#CYQLYG22\",\"name\":\"Maurick\",\"role\":\"member\",\"lastSeen\":\"20190701T184305.000Z\",\"expLevel\":9,\"trophies\":3886,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":34,\"previousClanRank\":38,\"donations\":114,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#PPCUR0Q02\",\"name\":\"Brice on Rice\",\"role\":\"member\",\"lastSeen\":\"20190701T071023.000Z\",\"expLevel\":9,\"trophies\":3866,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":35,\"previousClanRank\":34,\"donations\":28,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#PQPPG00JU\",\"name\":\"FlorisvSchie\",\"role\":\"member\",\"lastSeen\":\"20190701T182650.000Z\",\"expLevel\":9,\"trophies\":3837,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":36,\"previousClanRank\":39,\"donations\":72,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#PQCQCGRLU\",\"name\":\"rainstar\",\"role\":\"member\",\"lastSeen\":\"20190701T155128.000Z\",\"expLevel\":9,\"trophies\":3822,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":37,\"previousClanRank\":37,\"donations\":92,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#9UVJGR8UU\",\"name\":\"gramilla\",\"role\":\"member\",\"lastSeen\":\"20190701T165554.000Z\",\"expLevel\":9,\"trophies\":3775,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":38,\"previousClanRank\":35,\"donations\":56,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#P9LLYGLPC\",\"name\":\"renatul\",\"role\":\"member\",\"lastSeen\":\"20190701T222906.000Z\",\"expLevel\":10,\"trophies\":3740,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":39,\"previousClanRank\":36,\"donations\":2,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#Q9RPP8G\",\"name\":\"MagicAnimalClub\",\"role\":\"member\",\"lastSeen\":\"20190616T175620.000Z\",\"expLevel\":10,\"trophies\":3608,\"arena\":{\"id\":54000011,\"name\":\"Arena 12\"},\"clanRank\":40,\"previousClanRank\":40,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#CQR90JV\",\"name\":\"Theeen\",\"role\":\"member\",\"lastSeen\":\"20190701T040842.000Z\",\"expLevel\":11,\"trophies\":3563,\"arena\":{\"id\":54000024,\"name\":\"Arena 11\"},\"clanRank\":41,\"previousClanRank\":41,\"donations\":18,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#989GPLR00\",\"name\":\"babyswiss\",\"role\":\"member\",\"lastSeen\":\"20190629T165341.000Z\",\"expLevel\":10,\"trophies\":3471,\"arena\":{\"id\":54000024,\"name\":\"Arena 11\"},\"clanRank\":42,\"previousClanRank\":42,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#YU2CYJUU\",\"name\":\"supun\",\"role\":\"member\",\"lastSeen\":\"20190701T191135.000Z\",\"expLevel\":8,\"trophies\":3306,\"arena\":{\"id\":54000024,\"name\":\"Arena 11\"},\"clanRank\":43,\"previousClanRank\":43,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0},{\"tag\":\"#298CGC02J\",\"name\":\"Failure\",\"role\":\"coLeader\",\"lastSeen\":\"20190701T125922.000Z\",\"expLevel\":9,\"trophies\":3147,\"arena\":{\"id\":54000007,\"name\":\"Arena 10\"},\"clanRank\":44,\"previousClanRank\":44,\"donations\":36,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#90YV2Q990\",\"name\":\"SammyGangster\",\"role\":\"member\",\"lastSeen\":\"20190701T174536.000Z\",\"expLevel\":8,\"trophies\":3053,\"arena\":{\"id\":54000007,\"name\":\"Arena 10\"},\"clanRank\":45,\"previousClanRank\":0,\"donations\":0,\"donationsReceived\":40,\"clanChestPoints\":0},{\"tag\":\"#2L90YJGUG\",\"name\":\"DinandvRijn\",\"role\":\"member\",\"lastSeen\":\"20190701T160701.000Z\",\"expLevel\":9,\"trophies\":3005,\"arena\":{\"id\":54000007,\"name\":\"Arena 10\"},\"clanRank\":46,\"previousClanRank\":45,\"donations\":82,\"donationsReceived\":80,\"clanChestPoints\":0},{\"tag\":\"#2C0P2RJ00\",\"name\":\"xXZacattackXx\",\"role\":\"member\",\"lastSeen\":\"20190623T113722.000Z\",\"expLevel\":8,\"trophies\":3001,\"arena\":{\"id\":54000007,\"name\":\"Arena 10\"},\"clanRank\":47,\"previousClanRank\":46,\"donations\":0,\"donationsReceived\":0,\"clanChestPoints\":0}]}";
    String clan2 = "{\n" +
            "    \"tag\": \"#PPLYL09L\",\n" +
            "    \"name\": \"Departed\",\n" +
            "    \"description\": \"Welcome! Rules are simple. Donate & participate in war. Have fun! \uD83D\uDE0E\",\n" +
            "    \"clanScore\": 44260,\n" +
            "    \"clanWarTrophies\": 1071,\n" +
            "    \"requiredTrophies\": 3000,\n" +
            "    \"donationsPerWeek\": 1912,\n" +
            "    \"members\": 47\n" +
            "}";
    String clan3 = "{\"tag\": \"#PPLYL09L\",\"name\": \"Departed\",\"description\": \"Welcome! Rules are simple. Donate & participate in war. Have fun! \uD83D\uDE0E\",\"clanScore\": 44260,\"clanWarTrophies\": 1071,\"requiredTrophies\": 3000,\"donationsPerWeek\": 1912,\"members\": 47}";

    @Test
    public void givenClan_mapToJavaObject() throws IOException {
        ObjectMapper mapper = new ObjectMapper();
        Clan emp = mapper.readValue(clan, Clan.class);
        log.info(emp.toString());
        assertThat(emp.getClanWarTrophies(), is("1071"));
        assertThat(emp.getClanScore(), is(44276));
    }

    @Test
    public void givenClan_mapToJavaObject2() throws IOException {
        ObjectMapper mapper = new ObjectMapper();
        Clan emp = mapper.readValue(clan2, Clan.class);
        log.info(emp.toString());
    }

    @Test
    public void givenClan_mapToJavaObject3() throws IOException {
        ObjectMapper mapper = new ObjectMapper();
        Clan emp = mapper.readValue(clan3, Clan.class);
        log.info(emp.toString());
    }
}